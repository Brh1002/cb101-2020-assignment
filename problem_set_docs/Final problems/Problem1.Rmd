---
title: "Problem 1"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## GitHub Documents

This is an R Markdown format used for publishing markdown documents to GitHub. When you click the **Knit** button all R code chunks are run and a markdown file (.md) suitable for publishing to GitHub is generated.

## Including Code

You can include R code in the document as follows:

```{r cars}
summary(cars)
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.

```{r engine = "bash"}
pwd
wget ftp://ftp.ebi.ac.uk/pub/databases/Pfam/current_release/proteomes/9606.tsv.gz
gunzip 9606.tsv.gz
```
```{r} 
getwd()
list.files(getwd())
```


```{r}
#read the tsv file with colnames added manually, convert to aggregate list
pfam.table <- read.table("9606.tsv", sep = "\t", col.names = (c("seq id", "alignment start", 'alignment end', 'envelope start', "envelope end", "hmm acc", 'hmm name', 'type', 'hmm start', 'hmm end', 'hmm length', 'bit score', 'E-value', 'clan')))
head(pfam.table)
pfam.list<- as.list(pfam.table)
```
```{r}

env.begin <- function(x){
  as.integer(pfam.list$envelope.start[pfam.list$seq.id==x])
} 

env.end <- function(x){
  (pfam.list$envelope.end[pfam.list$seq.id==x])
}

seqid.input <- pfam.list$seq.id==x

#practicing
practice.function <- function(x, y) {
  if ((pfam.list$envelope.end[pfam.list$seq.id==x] >=y) & (pfam.list$envelope.start[pfam.list$seq.id==x] <=y)) 
    print("okay")
}
    
next.practice <- function(x, y) {
  if ((pfam.list$envelope.end[[pfam.list$seq.id==x]] >=y) & (pfam.list$envelope.start[pfam.list$seq.id==x] <=y)) 
    print(pfam.list$hmm.name[])
}



#end practice
pfam.list$seq.id=="A0A024QZP7"= "TRUE"

pfam.list$envelope.end[[pfam.list$seq.id=="A0A024QZP7"]])

matching<- function(x, y) {
matches
}

#toys only above

#from a friend
args = commandArgs(trailingOnly = TRUE)
proteome.file = args[]
ptn.seq.id = args[1] 
location = args[2]

pfam.table <- read.table(gzfile("9606.tsv.gz"))

domain = pfam.table[which((pfam.table$seq.id == ptn.seq.id) & (pfam.table$envelope.start <= as.integer(location)) & (pfam.table$envelope.end >= as.integer(location))), ]


my.shit <- function(id_input, y) 
  for (z in (pfam.list$envelope.start[pfam.list$seq.id==id_input]) <= y= TRUE & (f in print(pfam.list$envelope.end[pfam.list$seq.id==id_input]) >= y= TRUE))

    print(pfam.list$hmm.name[z])



z = pfam.list$seq.id
domain.function <- function(x, y) {
  for x in pfam.list$seq.id==x) {
    if (pfam.list[4][[z]] <= y & y <= pfam.list[5][[z]])
      paste(pfam.list[7][[z]])
  }
}

```


```{r}
name.domain <- print()
```

```{r}
wget("ftp://ftp.ebi.ac.uk/pub/databases/Pfam/current_release/proteomes/9606.tsv.gz")
```


```{r}
pfam9606 <- "C:/Users/brend/OneDrive/Desktop/cb2-101/course_documents/problem_set_docs/Final problems/9606.tsv.gz"
```


```{r}
human.pfam.tsv
```
```{r}
human.pfam<- system(gunzip "9606.tsv.gz" > human.pfam)
```

```{r}
human.pfam.table <- read.table("9606.tsv", col.names = readLines("9606.tsv", n=3), sep = "\t", )
```

```{r}
getw
```
)
